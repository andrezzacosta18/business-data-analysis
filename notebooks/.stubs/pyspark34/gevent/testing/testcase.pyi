import gevent
from . import errorhandler as errorhandler, flaky as flaky, leakcheck as leakcheck, params as params, sysinfo as sysinfo
from .patched_tests_setup import get_switch_expected as get_switch_expected
from _typeshed import Incomplete
from collections.abc import Generator
from gevent._compat import get_clock_info as get_clock_info, perf_counter as perf_counter
from gevent._hub_local import get_hub_if_exists as get_hub_if_exists
from gevent._util import LazyOnClass as LazyOnClass

class TimeAssertMixin:
    def assertTimeoutAlmostEqual(self, first, second, places: Incomplete | None = None, msg: Incomplete | None = None, delta: Incomplete | None = None) -> None: ...
    def assertTimeWithinRange(self, time_taken, min_time, max_time) -> None: ...
    def assertTimeWithinRange(self, time_taken, min_time, max_time) -> None: ...
    def runs_in_given_time(self, expected, fuzzy: Incomplete | None = None, min_time: Incomplete | None = None) -> Generator[Incomplete, None, None]: ...
    def runs_in_no_time(self, fuzzy=...): ...

class GreenletAssertMixin:
    """Assertions related to greenlets."""
    def assert_greenlet_ready(self, g) -> None: ...
    def assert_greenlet_not_ready(self, g) -> None: ...
    def assert_greenlet_spawned(self, g) -> None: ...
    assert_greenlet_started = assert_greenlet_spawned
    def assert_greenlet_finished(self, g) -> None: ...

class StringAssertMixin:
    """
    Assertions dealing with strings.
    """
    def HEX_NUM_RE(self): ...
    def normalize_addr(self, s, replace: str = 'X'): ...
    def normalize_module(self, s, module: Incomplete | None = None, replace: str = 'module'): ...
    def normalize(self, s): ...
    def assert_nstr_endswith(self, o, val) -> None: ...
    def assert_nstr_startswith(self, o, val) -> None: ...

class TestTimeout(gevent.Timeout):
    def __init__(self, timeout, method: str = 'Not Given') -> None: ...

class TestCaseMetaClass(type):
    def __new__(cls, classname, bases, classDict): ...

class SubscriberCleanupMixin:
    def setUp(self) -> None: ...
    def addSubscriber(self, sub) -> None: ...
    def tearDown(self) -> None: ...

class TestCase(Incomplete):
    __timeout__: Incomplete
    switch_expected: str
    error_fatal: bool
    uses_handle_error: bool
    close_on_teardown: Incomplete
    def run(self, *args, **kwargs): ...
    def setUp(self) -> None: ...
    def tearDown(self) -> None: ...
    @property
    def testname(self): ...
    @property
    def testcasename(self): ...
    @property
    def modulename(self): ...
    @property
    def fullname(self): ...
    def expect_one_error(self) -> None: ...
    def peek_error(self): ...
    def get_error(self): ...
    def assert_error(self, kind: Incomplete | None = None, value: Incomplete | None = None, error: Incomplete | None = None, where_type: Incomplete | None = None): ...
    def assertMonkeyPatchedFuncSignatures(self, mod_name, func_names=(), exclude=()) -> None: ...
    def assertEqualFlakyRaceCondition(self, a, b) -> None: ...
    def assertStartsWith(self, it, has_prefix) -> None: ...
    def assertNotMonkeyPatched(self) -> None: ...
