from _typeshed import Incomplete
from gevent._ffi import watcher as _base

ffi: Incomplete
libuv: Incomplete

class _ClosingWatchers(dict):
    def remove(self, obj) -> None: ...

class UVFuncallError(ValueError): ...

class libuv_error_wrapper:
    def __init__(self, uv) -> None: ...
    def __getattr__(self, name): ...

class ffi_unwrapper:
    def __init__(self, ff) -> None: ...
    def __getattr__(self, name): ...
    def addressof(self, lib, name): ...

class watcher(_base.watcher):
    ref: Incomplete
    def feed(self, _revents, _callback, *_args) -> None: ...

class io(_base.IoMixin, watcher):
    EVENT_MASK: Incomplete
    def __init__(self, loop, fd, events, ref: bool = True, priority: Incomplete | None = None) -> None: ...
    events: Incomplete
    class _multiplexwatcher:
        callback: Incomplete
        args: Incomplete
        pass_events: bool
        ref: bool
        def __init__(self, events, watcher) -> None: ...
        events: Incomplete
        def start(self, callback, *args, **kwargs) -> None: ...
        def stop(self) -> None: ...
        def close(self) -> None: ...
        @property
        def active(self): ...
        fd: Incomplete
    def multiplex(self, events): ...
    def close(self) -> None: ...

class _SimulatedWithAsyncMixin:
    def __init__(self, loop, *args, **kwargs) -> None: ...
    @property
    def active(self): ...
    callback: Incomplete
    args: Incomplete
    def start(self, cb, *args) -> None: ...
    def stop(self) -> None: ...
    def close(self) -> None: ...

class fork(_SimulatedWithAsyncMixin, _base.ForkMixin, watcher): ...
class child(_SimulatedWithAsyncMixin, _base.ChildMixin, watcher): ...

class async_(_base.AsyncMixin, watcher):
    def send(self) -> None: ...
    @property
    def pending(self) -> None: ...

class timer(_base.TimerMixin, watcher):
    def again(self, callback, *args, **kw) -> None: ...

class stat(_base.StatMixin, watcher):
    MIN_STAT_INTERVAL: float
    @property
    def attr(self): ...
    @property
    def prev(self): ...

class signal(_base.SignalMixin, watcher): ...
class idle(_base.IdleMixin, watcher): ...
class check(_base.CheckMixin, watcher): ...

class OneShotCheck(check):
    def start(self, callback, *args): ...

class prepare(_base.PrepareMixin, watcher): ...
