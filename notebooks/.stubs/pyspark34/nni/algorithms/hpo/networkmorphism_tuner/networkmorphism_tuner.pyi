from .bayesian import BayesianOptimizer as BayesianOptimizer
from .graph import graph_to_json as graph_to_json, json_to_graph as json_to_graph
from .nn import CnnGenerator as CnnGenerator, MlpGenerator as MlpGenerator
from .utils import Constant as Constant
from _typeshed import Incomplete
from nni import ClassArgsValidator as ClassArgsValidator
from nni.tuner import Tuner as Tuner
from nni.utils import OptimizeMode as OptimizeMode, extract_scalar_reward as extract_scalar_reward

logger: Incomplete

class NetworkMorphismClassArgsValidator(ClassArgsValidator):
    def validate_class_args(self, **kwargs) -> None: ...

class NetworkMorphismTuner(Tuner):
    '''
    NetworkMorphismTuner is a tuner which using network morphism techniques.

    Attributes
    ----------
    n_classes : int
        The class number or output node number (default: ``10``)
    input_shape : tuple
        A tuple including: (input_width, input_width, input_channel)
    t_min : float
        The minimum temperature for simulated annealing. (default: ``Constant.T_MIN``)
    beta : float
        The beta in acquisition function. (default: ``Constant.BETA``)
    algorithm_name : str
        algorithm name used in the network morphism (default: ``"Bayesian"``)
    optimize_mode : str
        optimize mode "minimize" or "maximize" (default: ``"minimize"``)
    verbose : bool
        verbose to print the log (default: ``True``)
    bo : BayesianOptimizer
        The optimizer used in networkmorphsim tuner.
    max_model_size : int
        max model size to the graph (default: ``Constant.MAX_MODEL_SIZE``)
    default_model_len : int
        default model length (default: ``Constant.MODEL_LEN``)
    default_model_width : int
        default model width (default: ``Constant.MODEL_WIDTH``)
    search_space : dict
    '''
    path: Incomplete
    generators: Incomplete
    n_classes: Incomplete
    input_shape: Incomplete
    t_min: Incomplete
    beta: Incomplete
    algorithm_name: Incomplete
    optimize_mode: Incomplete
    json: Incomplete
    total_data: Incomplete
    verbose: Incomplete
    model_count: int
    bo: Incomplete
    training_queue: Incomplete
    descriptors: Incomplete
    history: Incomplete
    max_model_size: Incomplete
    default_model_len: Incomplete
    default_model_width: Incomplete
    search_space: Incomplete
    def __init__(self, task: str = 'cv', input_width: int = 32, input_channel: int = 3, n_output_node: int = 10, algorithm_name: str = 'Bayesian', optimize_mode: str = 'maximize', path: str = 'model_path', verbose: bool = True, beta=..., t_min=..., max_model_size=..., default_model_len=..., default_model_width=...) -> None:
        """
        initilizer of the NetworkMorphismTuner.
        """
    def update_search_space(self, search_space) -> None:
        """
        Update search space definition in tuner by search_space in neural architecture.
        """
    def generate_parameters(self, parameter_id, **kwargs):
        """
        Returns a set of trial neural architecture, as a serializable object.

        Parameters
        ----------
        parameter_id : int
        """
    def receive_trial_result(self, parameter_id, parameters, value, **kwargs) -> None:
        '''
        Record an observation of the objective function.

        Parameters
        ----------
        parameter_id : int
            the id of a group of paramters that generated by nni manager.
        parameters : dict
            A group of parameters.
        value : dict/float
            if value is dict, it should have "default" key.
        '''
    def init_search(self) -> None:
        """
        Call the generators to generate the initial architectures for the search.
        """
    def generate(self):
        """
        Generate the next neural architecture.

        Returns
        -------
        other_info : any object
            Anything to be saved in the training queue together with the architecture.
        generated_graph : Graph
            An instance of Graph.
        """
    def update(self, other_info, graph, metric_value, model_id) -> None:
        """
        Update the controller with evaluation result of a neural architecture.

        Parameters
        ----------
        other_info: any object
            In our case it is the father ID in the search tree.
        graph: graph.Graph
            An instance of Graph. The trained neural architecture.
        metric_value: float
            The final evaluated metric value.
        model_id: int
        """
    def add_model(self, metric_value, model_id):
        """
        Add model to the history, x_queue and y_queue

        Parameters
        ----------
        metric_value : float
        graph : dict
        model_id : int

        Returns
        -------
        model : dict
        """
    def get_best_model_id(self):
        """
        Get the best model_id from history using the metric value
        """
    def load_model_by_id(self, model_id):
        """
        Get the model by model_id

        Parameters
        ----------
        model_id : int
            model index

        Returns
        -------
        load_model : graph.Graph
            the model graph representation
        """
    def load_best_model(self):
        """
        Get the best model by model id

        Returns
        -------
        load_model : graph.Graph
            the model graph representation
        """
    def get_metric_value_by_id(self, model_id):
        """
        Get the model metric valud by its model_id

        Parameters
        ----------
        model_id : int
            model index

        Returns
        -------
        float
             the model metric
        """
    def import_data(self, data) -> None: ...
