from ..common.serializer import dump as dump, load as load
from ..utils import MetricType as MetricType
from .common import multi_phase_enabled as multi_phase_enabled
from .env_vars import dispatcher_env_vars as dispatcher_env_vars
from .msg_dispatcher_base import MsgDispatcherBase as MsgDispatcherBase
from .tuner_command_channel import CommandType as CommandType
from _typeshed import Incomplete
from nni import NoMoreTrialError as NoMoreTrialError
from nni.assessor import AssessResult as AssessResult

class MsgDispatcher(MsgDispatcherBase):
    tuner: Incomplete
    assessor: Incomplete
    def __init__(self, command_channel_url, tuner, assessor: Incomplete | None = None) -> None: ...
    def load_checkpoint(self) -> None: ...
    def save_checkpoint(self) -> None: ...
    def handle_initialize(self, data) -> None:
        """Data is search space
        """
    def send_trial_callback(self, id_, params) -> None:
        """For tuner to issue trial config when the config is generated
        """
    def handle_request_trial_jobs(self, data) -> None: ...
    def handle_update_search_space(self, data) -> None: ...
    def handle_import_data(self, data) -> None:
        """Import additional data for tuning
        data: a list of dictionaries, each of which has at least two keys, 'parameter' and 'value'
        """
    def handle_add_customized_trial(self, data) -> None: ...
    def handle_report_metric_data(self, data) -> None:
        """
        data: a dict received from nni_manager, which contains:
              - 'parameter_id': id of the trial
              - 'value': metric value reported by nni.report_final_result()
              - 'type': report type, support {'FINAL', 'PERIODICAL'}
        """
    def handle_trial_end(self, data) -> None:
        """
        data: it has three keys: trial_job_id, event, hyper_params
             - trial_job_id: the id generated by training service
             - event: the job's state
             - hyper_params: the hyperparameters generated and returned by tuner
        """
