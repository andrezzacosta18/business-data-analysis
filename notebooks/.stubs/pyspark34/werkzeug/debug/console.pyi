import code
import typing as t
from .repr import debug_repr as debug_repr, dump as dump, helper as helper
from _typeshed import Incomplete
from types import CodeType

class HTMLStringO:
    """A StringO version that HTML escapes on write."""
    def __init__(self) -> None: ...
    def isatty(self) -> bool: ...
    def close(self) -> None: ...
    def flush(self) -> None: ...
    def seek(self, n: int, mode: int = 0) -> None: ...
    def readline(self) -> str: ...
    def reset(self) -> str: ...
    def write(self, x: str) -> None: ...
    def writelines(self, x: t.Iterable[str]) -> None: ...

class ThreadedStream:
    """Thread-local wrapper for sys.stdout for the interactive console."""
    @staticmethod
    def push() -> None: ...
    @staticmethod
    def fetch() -> str: ...
    @staticmethod
    def displayhook(obj: object) -> None: ...
    def __setattr__(self, name: str, value: t.Any) -> None: ...
    def __dir__(self) -> list[str]: ...
    def __getattribute__(self, name: str) -> t.Any: ...

class _ConsoleLoader:
    def __init__(self) -> None: ...
    def register(self, code: CodeType, source: str) -> None: ...
    def get_source_by_code(self, code: CodeType) -> str | None: ...

class _InteractiveConsole(code.InteractiveInterpreter):
    locals: dict[str, t.Any]
    loader: Incomplete
    compile: Incomplete
    more: bool
    buffer: Incomplete
    def __init__(self, globals: dict[str, t.Any], locals: dict[str, t.Any]) -> None: ...
    def runsource(self, source: str, **kwargs: t.Any) -> str: ...
    def runcode(self, code: CodeType) -> None: ...
    def showtraceback(self) -> None: ...
    def showsyntaxerror(self, filename: str | None = None) -> None: ...
    def write(self, data: str) -> None: ...

class Console:
    """An interactive console."""
    def __init__(self, globals: dict[str, t.Any] | None = None, locals: dict[str, t.Any] | None = None) -> None: ...
    def eval(self, code: str) -> str: ...
