import enum
from ..typing import ImageResource as ImageResource
from typing import Any, BinaryIO, Dict

EXAMPLE_IMAGES: Dict[str, str]
RETURN_BYTES: str
URI_BYTES: int
URI_FILE: int
URI_FILENAME: int
URI_ZIPPED: int
URI_HTTP: int
URI_FTP: int

class IOMode(str, enum.Enum):
    read: str
    write: str

class ImageMode(str, enum.Enum):
    single_image: str
    multi_image: str
    single_volume: str
    multi_volume: str
    any_mode: str

class Mode(str, enum.Enum):
    read_single_image: str
    read_multi_image: str
    read_single_volume: str
    read_multi_volume: str
    read_any: str
    write_single_image: str
    write_multi_image: str
    write_single_volume: str
    write_multi_volume: str
    write_any: str
    @property
    def io_mode(self) -> IOMode: ...
    @property
    def image_mode(self) -> ImageMode: ...

class InitializationError(Exception): ...

class Request:
    raw_uri: ImageResource
    @property
    def filename(self) -> str: ...
    @property
    def extension(self) -> str: ...
    @property
    def format_hint(self) -> str | None: ...
    @format_hint.setter
    def format_hint(self, format: str) -> None: ...
    @property
    def mode(self) -> Mode: ...
    @property
    def kwargs(self) -> Dict[str, Any]: ...
    @property
    def firstbytes(self) -> bytes: ...
    def __init__(self, uri: ImageResource, mode: str, *, extension: str = None, format_hint: str = None, **kwargs) -> None: ...
    def get_file(self) -> BinaryIO: ...
    def get_local_filename(self) -> str: ...
    def finish(self) -> None: ...
    def get_result(self) -> bytes | None: ...

def read_n_bytes(f: BinaryIO, N: int) -> bytes: ...

class SeekableFileObject:
    def __init__(self, f: BinaryIO) -> None: ...
    def read(self, n: int = None) -> bytes: ...
    def tell(self) -> int: ...
    def seek(self, i: int, mode: int = 0) -> int: ...
    def close(self) -> None: ...
    def isatty(self) -> bool: ...
    def seekable(self) -> bool: ...
