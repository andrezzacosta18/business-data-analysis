from . import Array as Array
from ..config import PluginConfig as PluginConfig
from ..typing import ArrayLike as ArrayLike
from .request import Request as Request
from typing import Any, Dict, List

class Format:
    @property
    def doc(self) -> str: ...
    @property
    def name(self) -> str: ...
    @property
    def description(self) -> str: ...
    @property
    def extensions(self) -> List[str]: ...
    @property
    def modes(self) -> str: ...
    def __init__(self, name: str, description: str, extensions: str | list | tuple | None = None, modes: str = None) -> None: ...
    def get_reader(self, request: Request) -> Reader: ...
    def get_writer(self, request: Request) -> Writer: ...
    def can_read(self, request: Request) -> bool: ...
    def can_write(self, request: Request) -> bool: ...
    class _BaseReaderWriter:
        @property
        def format(self) -> Format: ...
        @property
        def request(self) -> Request: ...
        @property
        def closed(self) -> bool: ...
        def __init__(self, format: Format, request: Request) -> None: ...
        def __enter__(self) -> Format._BaseReaderWriter: ...
        def __exit__(self, type: type[BaseException] | None, value: BaseException | None, traceback: types.TracebackType | None) -> None: ...
        def __del__(self) -> None: ...
        def close(self) -> None: ...
    class Reader(_BaseReaderWriter):
        def get_length(self) -> int: ...
        def get_data(self, index: int, **kwargs) -> Array: ...
        def get_next_data(self, **kwargs) -> Dict[str, Any]: ...
        def set_image_index(self, index: int, **kwargs) -> None: ...
        def get_meta_data(self, index: int = None) -> Dict[str, Any]: ...
        def iter_data(self) -> Array: ...
        def __iter__(self) -> Array: ...
        def __len__(self) -> int: ...
    class Writer(_BaseReaderWriter):
        def append_data(self, im: ArrayLike, meta: Dict[str, Any] = None) -> None: ...
        def set_meta_data(self, meta: Dict[str, Any]) -> None: ...

class FormatManager:
    def __iter__(self) -> Format: ...
    def __len__(self) -> int: ...
    def __getitem__(self, name: str) -> Format: ...
    def sort(self, *names: str) -> None: ...
    def add_format(self, iio_format: Format, overwrite: bool = False) -> None: ...
    def search_read_format(self, request: Request) -> Format | None: ...
    def search_write_format(self, request: Request) -> Format | None: ...
    def get_format_names(self) -> List[str]: ...
    def show(self) -> None: ...
