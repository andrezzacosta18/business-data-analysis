import numpy as np
from ..typing import ArrayLike as ArrayLike
from .format import Format as Format
from .request import Request as Request
from .v3_plugin_api import ImageProperties as ImageProperties, PluginV3 as PluginV3
from typing import Any, Dict, Iterator, List

class LegacyPlugin(PluginV3):
    def __init__(self, request: Request, legacy_plugin: Format) -> None: ...
    def legacy_get_reader(self, **kwargs) -> Format.Reader: ...
    def read(self, *, index: int | None = 0, **kwargs) -> np.ndarray: ...
    def legacy_get_writer(self, **kwargs) -> Format.Writer: ...
    def write(self, ndimage: ArrayLike | List[ArrayLike], *, is_batch: bool = None, **kwargs) -> bytes | None: ...
    def iter(self, **kwargs) -> Iterator[np.ndarray]: ...
    def properties(self, index: int | None = 0) -> ImageProperties: ...
    def get_meta(self, *, index: int | None = 0) -> Dict[str, Any]: ...
    def metadata(self, index: int | None = 0, exclude_applied: bool = True) -> Dict[str, Any]: ...
    def __del__(self) -> None: ...
