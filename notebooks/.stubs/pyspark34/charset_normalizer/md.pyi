from .constant import COMMON_SAFE_ASCII_CHARACTERS as COMMON_SAFE_ASCII_CHARACTERS, TRACE as TRACE, UNICODE_SECONDARY_RANGE_KEYWORD as UNICODE_SECONDARY_RANGE_KEYWORD
from .utils import is_accentuated as is_accentuated, is_case_variable as is_case_variable, is_cjk as is_cjk, is_emoticon as is_emoticon, is_hangul as is_hangul, is_hiragana as is_hiragana, is_katakana as is_katakana, is_latin as is_latin, is_punctuation as is_punctuation, is_separator as is_separator, is_symbol as is_symbol, is_thai as is_thai, is_unprintable as is_unprintable, remove_accent as remove_accent, unicode_range as unicode_range

class MessDetectorPlugin:
    """
    Base abstract class used for mess detection plugins.
    All detectors MUST extend and implement given methods.
    """
    def eligible(self, character: str) -> bool:
        """
        Determine if given character should be fed in.
        """
    def feed(self, character: str) -> None:
        """
        The main routine to be executed upon character.
        Insert the logic in witch the text would be considered chaotic.
        """
    def reset(self) -> None:
        """
        Permit to reset the plugin to the initial state.
        """
    @property
    def ratio(self) -> float:
        """
        Compute the chaos ratio based on what your feed() has seen.
        Must NOT be lower than 0.; No restriction gt 0.
        """

class TooManySymbolOrPunctuationPlugin(MessDetectorPlugin):
    def __init__(self) -> None: ...
    def eligible(self, character: str) -> bool: ...
    def feed(self, character: str) -> None: ...
    def reset(self) -> None: ...
    @property
    def ratio(self) -> float: ...

class TooManyAccentuatedPlugin(MessDetectorPlugin):
    def __init__(self) -> None: ...
    def eligible(self, character: str) -> bool: ...
    def feed(self, character: str) -> None: ...
    def reset(self) -> None: ...
    @property
    def ratio(self) -> float: ...

class UnprintablePlugin(MessDetectorPlugin):
    def __init__(self) -> None: ...
    def eligible(self, character: str) -> bool: ...
    def feed(self, character: str) -> None: ...
    def reset(self) -> None: ...
    @property
    def ratio(self) -> float: ...

class SuspiciousDuplicateAccentPlugin(MessDetectorPlugin):
    def __init__(self) -> None: ...
    def eligible(self, character: str) -> bool: ...
    def feed(self, character: str) -> None: ...
    def reset(self) -> None: ...
    @property
    def ratio(self) -> float: ...

class SuspiciousRange(MessDetectorPlugin):
    def __init__(self) -> None: ...
    def eligible(self, character: str) -> bool: ...
    def feed(self, character: str) -> None: ...
    def reset(self) -> None: ...
    @property
    def ratio(self) -> float: ...

class SuperWeirdWordPlugin(MessDetectorPlugin):
    def __init__(self) -> None: ...
    def eligible(self, character: str) -> bool: ...
    def feed(self, character: str) -> None: ...
    def reset(self) -> None: ...
    @property
    def ratio(self) -> float: ...

class CjkInvalidStopPlugin(MessDetectorPlugin):
    """
    GB(Chinese) based encoding often render the stop incorrectly when the content does not fit and
    can be easily detected. Searching for the overuse of '丅' and '丄'.
    """
    def __init__(self) -> None: ...
    def eligible(self, character: str) -> bool: ...
    def feed(self, character: str) -> None: ...
    def reset(self) -> None: ...
    @property
    def ratio(self) -> float: ...

class ArchaicUpperLowerPlugin(MessDetectorPlugin):
    def __init__(self) -> None: ...
    def eligible(self, character: str) -> bool: ...
    def feed(self, character: str) -> None: ...
    def reset(self) -> None: ...
    @property
    def ratio(self) -> float: ...

def is_suspiciously_successive_range(unicode_range_a: str | None, unicode_range_b: str | None) -> bool:
    """
    Determine if two Unicode range seen next to each other can be considered as suspicious.
    """
def mess_ratio(decoded_sequence: str, maximum_threshold: float = 0.2, debug: bool = False) -> float:
    """
    Compute a mess ratio given a decoded bytes sequence. The maximum threshold does stop the computation earlier.
    """
