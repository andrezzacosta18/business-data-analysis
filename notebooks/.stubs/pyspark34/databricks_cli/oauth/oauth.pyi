from _typeshed import Incomplete
from databricks_cli.utils import error_and_quit as error_and_quit
from datetime import tzinfo
from http.server import BaseHTTPRequestHandler

def token_urlsafe(nbytes: int = 32): ...

class UTCTimeZone(tzinfo):
    """UTC"""
    def utcoffset(self, dt): ...
    def tzname(self, dt): ...
    def dst(self, dt): ...

OIDC_REDIRECTOR_PATH: str
CLIENT_ID: str
REDIRECT_PORT: int
UTC: Incomplete

def get_client(client_id=...): ...
def get_redirect_url(port=...): ...
def fetch_well_known_config(idp_url): ...
def get_idp_url(host): ...
def get_challenge(verifier_string=...): ...

global_request_path: Incomplete

def set_request_path(path) -> None: ...

class SingleRequestHandler(BaseHTTPRequestHandler):
    RESPONSE_BODY: Incomplete
    def do_GET(self) -> None: ...
    def log_message(self, format, *args) -> None: ...

def get_authorization_code(client, auth_url, redirect_url, scope, state, challenge, port): ...
def send_auth_code_token_request(client, token_request_url, redirect_url, code, verifier): ...
def send_token_request(token_request_url, data): ...
def send_refresh_token_request(hostname, refresh_token): ...
def get_tokens_from_response(oauth_response): ...
def check_and_refresh_access_token(hostname, access_token, refresh_token): ...
def get_tokens(hostname, scope: Incomplete | None = None): ...
