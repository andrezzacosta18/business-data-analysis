from _typeshed import Incomplete
from azure.core.credentials import AccessToken
from typing import Dict

logger: Incomplete
kusto_logger: Incomplete

class Singleton(type):
    def __call__(cls, *args, **kwargs): ...

class MwcToken:
    TargetUriHost: Incomplete
    CapacityObjectId: Incomplete
    Token: Incomplete
    def __init__(self, TargetUriHost: str = '', CapacityObjectId: str = '', Token: str = '') -> None: ...

class TokenUtils(metaclass=Singleton):
    MWC_WORKLOAD_TYPE_ML: str
    MWC_WORKLOAD_TYPE_ONELAKE: str
    AAD_TOKEN: Incomplete
    STORAGE_TOKEN: Incomplete
    ML_MWC_TOKEN: Incomplete
    OPENAI_MWC_TOKEN: Incomplete
    def __init__(self, AAD_TOKEN: str = '', STORAGE_TOKEN: str = '', ML_MWC_TOKEN: str = '', OPENAI_MWC_TOKEN: Dict[str, str] = {}) -> None: ...
    def get_one_lake_token(self, pbienv: str) -> AccessToken: ...
    def get_aad_token(self): ...
    def refresh_aad_token(self) -> None: ...
    def get_ml_mwc_token(self, shared_host: str, workspace_id: str, capacity_id: str): ...
    def refresh_ml_mwc_token(self, shared_host: str, workspace_id: str, capacity_id: str): ...
    @classmethod
    def get_mwc_token(cls, shared_host: str, workspace_id: str, capacity_id: str, workload_type: str) -> MwcToken | None: ...
    def get_openai_mwc_token(self, feature_name: str = ...): ...
    def get_openai_auth_header(self, feature_name: str = ...): ...
    def refresh_openai_mwc_token(self, feature_name: str = ...): ...
    def get_storage_token(self): ...
    def refresh_storage_token(self) -> None: ...
    @classmethod
    def check_token_valid(cls, token): ...
    @classmethod
    def get_token_expire_time(cls, token) -> int: ...

class TokenServiceClient:
    resource_mapping: Incomplete
    hostname: Incomplete
    process_name: Incomplete
    synapse_tokenservice_endpoint: Incomplete
    workload_endpoint: Incomplete
    session_token: Incomplete
    cluster_identifier: Incomplete
    def __init__(self) -> None: ...
    def get_access_token(self, resource_param: str) -> str: ...
