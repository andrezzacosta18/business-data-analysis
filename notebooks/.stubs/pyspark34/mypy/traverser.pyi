from _typeshed import Incomplete
from mypy.nodes import AssertStmt as AssertStmt, AssertTypeExpr as AssertTypeExpr, AssignmentExpr as AssignmentExpr, AssignmentStmt as AssignmentStmt, AwaitExpr as AwaitExpr, Block as Block, BreakStmt as BreakStmt, BytesExpr as BytesExpr, CallExpr as CallExpr, CastExpr as CastExpr, ClassDef as ClassDef, ComparisonExpr as ComparisonExpr, ComplexExpr as ComplexExpr, ConditionalExpr as ConditionalExpr, ContinueStmt as ContinueStmt, Decorator as Decorator, DelStmt as DelStmt, DictExpr as DictExpr, DictionaryComprehension as DictionaryComprehension, EllipsisExpr as EllipsisExpr, EnumCallExpr as EnumCallExpr, Expression as Expression, ExpressionStmt as ExpressionStmt, FloatExpr as FloatExpr, ForStmt as ForStmt, FuncBase as FuncBase, FuncDef as FuncDef, FuncItem as FuncItem, GeneratorExpr as GeneratorExpr, GlobalDecl as GlobalDecl, IfStmt as IfStmt, Import as Import, ImportAll as ImportAll, ImportFrom as ImportFrom, IndexExpr as IndexExpr, IntExpr as IntExpr, LambdaExpr as LambdaExpr, ListComprehension as ListComprehension, ListExpr as ListExpr, MatchStmt as MatchStmt, MemberExpr as MemberExpr, MypyFile as MypyFile, NameExpr as NameExpr, NamedTupleExpr as NamedTupleExpr, NewTypeExpr as NewTypeExpr, Node as Node, NonlocalDecl as NonlocalDecl, OpExpr as OpExpr, OperatorAssignmentStmt as OperatorAssignmentStmt, OverloadedFuncDef as OverloadedFuncDef, ParamSpecExpr as ParamSpecExpr, PassStmt as PassStmt, REVEAL_TYPE as REVEAL_TYPE, RaiseStmt as RaiseStmt, ReturnStmt as ReturnStmt, RevealExpr as RevealExpr, SetComprehension as SetComprehension, SetExpr as SetExpr, SliceExpr as SliceExpr, StarExpr as StarExpr, StrExpr as StrExpr, SuperExpr as SuperExpr, TryStmt as TryStmt, TupleExpr as TupleExpr, TypeAlias as TypeAlias, TypeAliasExpr as TypeAliasExpr, TypeApplication as TypeApplication, TypeVarExpr as TypeVarExpr, TypeVarTupleExpr as TypeVarTupleExpr, TypedDictExpr as TypedDictExpr, UnaryExpr as UnaryExpr, WhileStmt as WhileStmt, WithStmt as WithStmt, YieldExpr as YieldExpr, YieldFromExpr as YieldFromExpr
from mypy.patterns import AsPattern as AsPattern, ClassPattern as ClassPattern, MappingPattern as MappingPattern, OrPattern as OrPattern, SequencePattern as SequencePattern, SingletonPattern as SingletonPattern, StarredPattern as StarredPattern, ValuePattern as ValuePattern
from mypy.visitor import NodeVisitor as NodeVisitor

class TraverserVisitor(NodeVisitor[None]):
    """A parse tree visitor that traverses the parse tree during visiting.

    It does not perform any actions outside the traversal. Subclasses
    should override visit methods to perform actions during
    traversal. Calling the superclass method allows reusing the
    traversal implementation.
    """
    def __init__(self) -> None: ...
    def visit_mypy_file(self, o: MypyFile) -> None: ...
    def visit_block(self, block: Block) -> None: ...
    def visit_func(self, o: FuncItem) -> None: ...
    def visit_func_def(self, o: FuncDef) -> None: ...
    def visit_overloaded_func_def(self, o: OverloadedFuncDef) -> None: ...
    def visit_class_def(self, o: ClassDef) -> None: ...
    def visit_decorator(self, o: Decorator) -> None: ...
    def visit_expression_stmt(self, o: ExpressionStmt) -> None: ...
    def visit_assignment_stmt(self, o: AssignmentStmt) -> None: ...
    def visit_operator_assignment_stmt(self, o: OperatorAssignmentStmt) -> None: ...
    def visit_while_stmt(self, o: WhileStmt) -> None: ...
    def visit_for_stmt(self, o: ForStmt) -> None: ...
    def visit_return_stmt(self, o: ReturnStmt) -> None: ...
    def visit_assert_stmt(self, o: AssertStmt) -> None: ...
    def visit_del_stmt(self, o: DelStmt) -> None: ...
    def visit_if_stmt(self, o: IfStmt) -> None: ...
    def visit_raise_stmt(self, o: RaiseStmt) -> None: ...
    def visit_try_stmt(self, o: TryStmt) -> None: ...
    def visit_with_stmt(self, o: WithStmt) -> None: ...
    def visit_match_stmt(self, o: MatchStmt) -> None: ...
    def visit_member_expr(self, o: MemberExpr) -> None: ...
    def visit_yield_from_expr(self, o: YieldFromExpr) -> None: ...
    def visit_yield_expr(self, o: YieldExpr) -> None: ...
    def visit_call_expr(self, o: CallExpr) -> None: ...
    def visit_op_expr(self, o: OpExpr) -> None: ...
    def visit_comparison_expr(self, o: ComparisonExpr) -> None: ...
    def visit_slice_expr(self, o: SliceExpr) -> None: ...
    def visit_cast_expr(self, o: CastExpr) -> None: ...
    def visit_assert_type_expr(self, o: AssertTypeExpr) -> None: ...
    def visit_reveal_expr(self, o: RevealExpr) -> None: ...
    def visit_assignment_expr(self, o: AssignmentExpr) -> None: ...
    def visit_unary_expr(self, o: UnaryExpr) -> None: ...
    def visit_list_expr(self, o: ListExpr) -> None: ...
    def visit_tuple_expr(self, o: TupleExpr) -> None: ...
    def visit_dict_expr(self, o: DictExpr) -> None: ...
    def visit_set_expr(self, o: SetExpr) -> None: ...
    def visit_index_expr(self, o: IndexExpr) -> None: ...
    def visit_generator_expr(self, o: GeneratorExpr) -> None: ...
    def visit_dictionary_comprehension(self, o: DictionaryComprehension) -> None: ...
    def visit_list_comprehension(self, o: ListComprehension) -> None: ...
    def visit_set_comprehension(self, o: SetComprehension) -> None: ...
    def visit_conditional_expr(self, o: ConditionalExpr) -> None: ...
    def visit_type_application(self, o: TypeApplication) -> None: ...
    def visit_lambda_expr(self, o: LambdaExpr) -> None: ...
    def visit_star_expr(self, o: StarExpr) -> None: ...
    def visit_await_expr(self, o: AwaitExpr) -> None: ...
    def visit_super_expr(self, o: SuperExpr) -> None: ...
    def visit_as_pattern(self, o: AsPattern) -> None: ...
    def visit_or_pattern(self, o: OrPattern) -> None: ...
    def visit_value_pattern(self, o: ValuePattern) -> None: ...
    def visit_sequence_pattern(self, o: SequencePattern) -> None: ...
    def visit_starred_pattern(self, o: StarredPattern) -> None: ...
    def visit_mapping_pattern(self, o: MappingPattern) -> None: ...
    def visit_class_pattern(self, o: ClassPattern) -> None: ...
    def visit_import(self, o: Import) -> None: ...
    def visit_import_from(self, o: ImportFrom) -> None: ...

class ExtendedTraverserVisitor(TraverserVisitor):
    """This is a more flexible traverser.

    In addition to the base traverser it:
        * has visit_ methods for leaf nodes
        * has common method that is called for all nodes
        * allows to skip recursing into a node

    Note that this traverser still doesn't visit some internal
    mypy constructs like _promote expression and Var.
    """
    def visit(self, o: Node) -> bool: ...
    def visit_mypy_file(self, o: MypyFile) -> None: ...
    def visit_import(self, o: Import) -> None: ...
    def visit_import_from(self, o: ImportFrom) -> None: ...
    def visit_import_all(self, o: ImportAll) -> None: ...
    def visit_func_def(self, o: FuncDef) -> None: ...
    def visit_overloaded_func_def(self, o: OverloadedFuncDef) -> None: ...
    def visit_class_def(self, o: ClassDef) -> None: ...
    def visit_global_decl(self, o: GlobalDecl) -> None: ...
    def visit_nonlocal_decl(self, o: NonlocalDecl) -> None: ...
    def visit_decorator(self, o: Decorator) -> None: ...
    def visit_type_alias(self, o: TypeAlias) -> None: ...
    def visit_block(self, block: Block) -> None: ...
    def visit_expression_stmt(self, o: ExpressionStmt) -> None: ...
    def visit_assignment_stmt(self, o: AssignmentStmt) -> None: ...
    def visit_operator_assignment_stmt(self, o: OperatorAssignmentStmt) -> None: ...
    def visit_while_stmt(self, o: WhileStmt) -> None: ...
    def visit_for_stmt(self, o: ForStmt) -> None: ...
    def visit_return_stmt(self, o: ReturnStmt) -> None: ...
    def visit_assert_stmt(self, o: AssertStmt) -> None: ...
    def visit_del_stmt(self, o: DelStmt) -> None: ...
    def visit_if_stmt(self, o: IfStmt) -> None: ...
    def visit_break_stmt(self, o: BreakStmt) -> None: ...
    def visit_continue_stmt(self, o: ContinueStmt) -> None: ...
    def visit_pass_stmt(self, o: PassStmt) -> None: ...
    def visit_raise_stmt(self, o: RaiseStmt) -> None: ...
    def visit_try_stmt(self, o: TryStmt) -> None: ...
    def visit_with_stmt(self, o: WithStmt) -> None: ...
    def visit_match_stmt(self, o: MatchStmt) -> None: ...
    def visit_int_expr(self, o: IntExpr) -> None: ...
    def visit_str_expr(self, o: StrExpr) -> None: ...
    def visit_bytes_expr(self, o: BytesExpr) -> None: ...
    def visit_float_expr(self, o: FloatExpr) -> None: ...
    def visit_complex_expr(self, o: ComplexExpr) -> None: ...
    def visit_ellipsis(self, o: EllipsisExpr) -> None: ...
    def visit_star_expr(self, o: StarExpr) -> None: ...
    def visit_name_expr(self, o: NameExpr) -> None: ...
    def visit_member_expr(self, o: MemberExpr) -> None: ...
    def visit_yield_from_expr(self, o: YieldFromExpr) -> None: ...
    def visit_yield_expr(self, o: YieldExpr) -> None: ...
    def visit_call_expr(self, o: CallExpr) -> None: ...
    def visit_op_expr(self, o: OpExpr) -> None: ...
    def visit_comparison_expr(self, o: ComparisonExpr) -> None: ...
    def visit_cast_expr(self, o: CastExpr) -> None: ...
    def visit_assert_type_expr(self, o: AssertTypeExpr) -> None: ...
    def visit_reveal_expr(self, o: RevealExpr) -> None: ...
    def visit_super_expr(self, o: SuperExpr) -> None: ...
    def visit_assignment_expr(self, o: AssignmentExpr) -> None: ...
    def visit_unary_expr(self, o: UnaryExpr) -> None: ...
    def visit_list_expr(self, o: ListExpr) -> None: ...
    def visit_dict_expr(self, o: DictExpr) -> None: ...
    def visit_tuple_expr(self, o: TupleExpr) -> None: ...
    def visit_set_expr(self, o: SetExpr) -> None: ...
    def visit_index_expr(self, o: IndexExpr) -> None: ...
    def visit_type_application(self, o: TypeApplication) -> None: ...
    def visit_lambda_expr(self, o: LambdaExpr) -> None: ...
    def visit_list_comprehension(self, o: ListComprehension) -> None: ...
    def visit_set_comprehension(self, o: SetComprehension) -> None: ...
    def visit_dictionary_comprehension(self, o: DictionaryComprehension) -> None: ...
    def visit_generator_expr(self, o: GeneratorExpr) -> None: ...
    def visit_slice_expr(self, o: SliceExpr) -> None: ...
    def visit_conditional_expr(self, o: ConditionalExpr) -> None: ...
    def visit_type_var_expr(self, o: TypeVarExpr) -> None: ...
    def visit_paramspec_expr(self, o: ParamSpecExpr) -> None: ...
    def visit_type_var_tuple_expr(self, o: TypeVarTupleExpr) -> None: ...
    def visit_type_alias_expr(self, o: TypeAliasExpr) -> None: ...
    def visit_namedtuple_expr(self, o: NamedTupleExpr) -> None: ...
    def visit_enum_call_expr(self, o: EnumCallExpr) -> None: ...
    def visit_typeddict_expr(self, o: TypedDictExpr) -> None: ...
    def visit_newtype_expr(self, o: NewTypeExpr) -> None: ...
    def visit_await_expr(self, o: AwaitExpr) -> None: ...
    def visit_as_pattern(self, o: AsPattern) -> None: ...
    def visit_or_pattern(self, o: OrPattern) -> None: ...
    def visit_value_pattern(self, o: ValuePattern) -> None: ...
    def visit_singleton_pattern(self, o: SingletonPattern) -> None: ...
    def visit_sequence_pattern(self, o: SequencePattern) -> None: ...
    def visit_starred_pattern(self, o: StarredPattern) -> None: ...
    def visit_mapping_pattern(self, o: MappingPattern) -> None: ...
    def visit_class_pattern(self, o: ClassPattern) -> None: ...

class ReturnSeeker(TraverserVisitor):
    found: bool
    def __init__(self) -> None: ...
    def visit_return_stmt(self, o: ReturnStmt) -> None: ...

def has_return_statement(fdef: FuncBase) -> bool:
    """Find if a function has a non-trivial return statement.

    Plain 'return' and 'return None' don't count.
    """

class FuncCollectorBase(TraverserVisitor):
    inside_func: bool
    def __init__(self) -> None: ...
    def visit_func_def(self, defn: FuncDef) -> None: ...

class YieldSeeker(FuncCollectorBase):
    found: bool
    def __init__(self) -> None: ...
    def visit_yield_expr(self, o: YieldExpr) -> None: ...

def has_yield_expression(fdef: FuncBase) -> bool: ...

class YieldFromSeeker(FuncCollectorBase):
    found: bool
    def __init__(self) -> None: ...
    def visit_yield_from_expr(self, o: YieldFromExpr) -> None: ...

def has_yield_from_expression(fdef: FuncBase) -> bool: ...

class AwaitSeeker(TraverserVisitor):
    found: bool
    def __init__(self) -> None: ...
    def visit_await_expr(self, o: AwaitExpr) -> None: ...

def has_await_expression(expr: Expression) -> bool: ...

class ReturnCollector(FuncCollectorBase):
    return_statements: Incomplete
    def __init__(self) -> None: ...
    def visit_return_stmt(self, stmt: ReturnStmt) -> None: ...

def all_return_statements(node: Node) -> list[ReturnStmt]: ...

class YieldCollector(FuncCollectorBase):
    in_assignment: bool
    yield_expressions: Incomplete
    def __init__(self) -> None: ...
    def visit_assignment_stmt(self, stmt: AssignmentStmt) -> None: ...
    def visit_yield_expr(self, expr: YieldExpr) -> None: ...

def all_yield_expressions(node: Node) -> list[tuple[YieldExpr, bool]]: ...

class YieldFromCollector(FuncCollectorBase):
    in_assignment: bool
    yield_from_expressions: Incomplete
    def __init__(self) -> None: ...
    def visit_assignment_stmt(self, stmt: AssignmentStmt) -> None: ...
    def visit_yield_from_expr(self, expr: YieldFromExpr) -> None: ...

def all_yield_from_expressions(node: Node) -> list[tuple[YieldFromExpr, bool]]: ...
