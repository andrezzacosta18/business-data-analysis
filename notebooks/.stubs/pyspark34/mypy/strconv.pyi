import mypy.nodes
import mypy.patterns
import mypy.types
from _typeshed import Incomplete
from mypy.options import Options as Options
from mypy.util import IdMapper as IdMapper, short_type as short_type
from mypy.visitor import NodeVisitor as NodeVisitor
from typing import Sequence

class StrConv(NodeVisitor[str]):
    """Visitor for converting a node to a human-readable string.

    For example, an MypyFile node from program '1' is converted into
    something like this:

      MypyFile:1(
        fnam
        ExpressionStmt:1(
          IntExpr(1)))
    """
    options: Incomplete
    show_ids: Incomplete
    id_mapper: Incomplete
    def __init__(self, *, show_ids: bool = False, options: Options) -> None: ...
    def stringify_type(self, t: mypy.types.Type) -> str: ...
    def get_id(self, o: object) -> int | None: ...
    def format_id(self, o: object) -> str: ...
    def dump(self, nodes: Sequence[object], obj: mypy.nodes.Context) -> str:
        """Convert a list of items to a multiline pretty-printed string.

        The tag is produced from the type name of obj and its line
        number. See mypy.util.dump_tagged for a description of the nodes
        argument.
        """
    def func_helper(self, o: mypy.nodes.FuncItem) -> list[object]:
        """Return a list in a format suitable for dump() that represents the
        arguments and the body of a function. The caller can then decorate the
        array with information specific to methods, global functions or
        anonymous functions.
        """
    def visit_mypy_file(self, o: mypy.nodes.MypyFile) -> str: ...
    def visit_import(self, o: mypy.nodes.Import) -> str: ...
    def visit_import_from(self, o: mypy.nodes.ImportFrom) -> str: ...
    def visit_import_all(self, o: mypy.nodes.ImportAll) -> str: ...
    def visit_func_def(self, o: mypy.nodes.FuncDef) -> str: ...
    def visit_overloaded_func_def(self, o: mypy.nodes.OverloadedFuncDef) -> str: ...
    def visit_class_def(self, o: mypy.nodes.ClassDef) -> str: ...
    def visit_var(self, o: mypy.nodes.Var) -> str: ...
    def visit_global_decl(self, o: mypy.nodes.GlobalDecl) -> str: ...
    def visit_nonlocal_decl(self, o: mypy.nodes.NonlocalDecl) -> str: ...
    def visit_decorator(self, o: mypy.nodes.Decorator) -> str: ...
    def visit_block(self, o: mypy.nodes.Block) -> str: ...
    def visit_expression_stmt(self, o: mypy.nodes.ExpressionStmt) -> str: ...
    def visit_assignment_stmt(self, o: mypy.nodes.AssignmentStmt) -> str: ...
    def visit_operator_assignment_stmt(self, o: mypy.nodes.OperatorAssignmentStmt) -> str: ...
    def visit_while_stmt(self, o: mypy.nodes.WhileStmt) -> str: ...
    def visit_for_stmt(self, o: mypy.nodes.ForStmt) -> str: ...
    def visit_return_stmt(self, o: mypy.nodes.ReturnStmt) -> str: ...
    def visit_if_stmt(self, o: mypy.nodes.IfStmt) -> str: ...
    def visit_break_stmt(self, o: mypy.nodes.BreakStmt) -> str: ...
    def visit_continue_stmt(self, o: mypy.nodes.ContinueStmt) -> str: ...
    def visit_pass_stmt(self, o: mypy.nodes.PassStmt) -> str: ...
    def visit_raise_stmt(self, o: mypy.nodes.RaiseStmt) -> str: ...
    def visit_assert_stmt(self, o: mypy.nodes.AssertStmt) -> str: ...
    def visit_await_expr(self, o: mypy.nodes.AwaitExpr) -> str: ...
    def visit_del_stmt(self, o: mypy.nodes.DelStmt) -> str: ...
    def visit_try_stmt(self, o: mypy.nodes.TryStmt) -> str: ...
    def visit_with_stmt(self, o: mypy.nodes.WithStmt) -> str: ...
    def visit_match_stmt(self, o: mypy.nodes.MatchStmt) -> str: ...
    def visit_int_expr(self, o: mypy.nodes.IntExpr) -> str: ...
    def visit_str_expr(self, o: mypy.nodes.StrExpr) -> str: ...
    def visit_bytes_expr(self, o: mypy.nodes.BytesExpr) -> str: ...
    def str_repr(self, s: str) -> str: ...
    def visit_float_expr(self, o: mypy.nodes.FloatExpr) -> str: ...
    def visit_complex_expr(self, o: mypy.nodes.ComplexExpr) -> str: ...
    def visit_ellipsis(self, o: mypy.nodes.EllipsisExpr) -> str: ...
    def visit_star_expr(self, o: mypy.nodes.StarExpr) -> str: ...
    def visit_name_expr(self, o: mypy.nodes.NameExpr) -> str: ...
    def pretty_name(self, name: str, kind: int | None, fullname: str | None, is_inferred_def: bool, target_node: mypy.nodes.Node | None = None) -> str: ...
    def visit_member_expr(self, o: mypy.nodes.MemberExpr) -> str: ...
    def visit_yield_expr(self, o: mypy.nodes.YieldExpr) -> str: ...
    def visit_yield_from_expr(self, o: mypy.nodes.YieldFromExpr) -> str: ...
    def visit_call_expr(self, o: mypy.nodes.CallExpr) -> str: ...
    def visit_op_expr(self, o: mypy.nodes.OpExpr) -> str: ...
    def visit_comparison_expr(self, o: mypy.nodes.ComparisonExpr) -> str: ...
    def visit_cast_expr(self, o: mypy.nodes.CastExpr) -> str: ...
    def visit_assert_type_expr(self, o: mypy.nodes.AssertTypeExpr) -> str: ...
    def visit_reveal_expr(self, o: mypy.nodes.RevealExpr) -> str: ...
    def visit_assignment_expr(self, o: mypy.nodes.AssignmentExpr) -> str: ...
    def visit_unary_expr(self, o: mypy.nodes.UnaryExpr) -> str: ...
    def visit_list_expr(self, o: mypy.nodes.ListExpr) -> str: ...
    def visit_dict_expr(self, o: mypy.nodes.DictExpr) -> str: ...
    def visit_set_expr(self, o: mypy.nodes.SetExpr) -> str: ...
    def visit_tuple_expr(self, o: mypy.nodes.TupleExpr) -> str: ...
    def visit_index_expr(self, o: mypy.nodes.IndexExpr) -> str: ...
    def visit_super_expr(self, o: mypy.nodes.SuperExpr) -> str: ...
    def visit_type_application(self, o: mypy.nodes.TypeApplication) -> str: ...
    def visit_type_var_expr(self, o: mypy.nodes.TypeVarExpr) -> str: ...
    def visit_paramspec_expr(self, o: mypy.nodes.ParamSpecExpr) -> str: ...
    def visit_type_var_tuple_expr(self, o: mypy.nodes.TypeVarTupleExpr) -> str: ...
    def visit_type_alias_expr(self, o: mypy.nodes.TypeAliasExpr) -> str: ...
    def visit_namedtuple_expr(self, o: mypy.nodes.NamedTupleExpr) -> str: ...
    def visit_enum_call_expr(self, o: mypy.nodes.EnumCallExpr) -> str: ...
    def visit_typeddict_expr(self, o: mypy.nodes.TypedDictExpr) -> str: ...
    def visit__promote_expr(self, o: mypy.nodes.PromoteExpr) -> str: ...
    def visit_newtype_expr(self, o: mypy.nodes.NewTypeExpr) -> str: ...
    def visit_lambda_expr(self, o: mypy.nodes.LambdaExpr) -> str: ...
    def visit_generator_expr(self, o: mypy.nodes.GeneratorExpr) -> str: ...
    def visit_list_comprehension(self, o: mypy.nodes.ListComprehension) -> str: ...
    def visit_set_comprehension(self, o: mypy.nodes.SetComprehension) -> str: ...
    def visit_dictionary_comprehension(self, o: mypy.nodes.DictionaryComprehension) -> str: ...
    def visit_conditional_expr(self, o: mypy.nodes.ConditionalExpr) -> str: ...
    def visit_slice_expr(self, o: mypy.nodes.SliceExpr) -> str: ...
    def visit_temp_node(self, o: mypy.nodes.TempNode) -> str: ...
    def visit_as_pattern(self, o: mypy.patterns.AsPattern) -> str: ...
    def visit_or_pattern(self, o: mypy.patterns.OrPattern) -> str: ...
    def visit_value_pattern(self, o: mypy.patterns.ValuePattern) -> str: ...
    def visit_singleton_pattern(self, o: mypy.patterns.SingletonPattern) -> str: ...
    def visit_sequence_pattern(self, o: mypy.patterns.SequencePattern) -> str: ...
    def visit_starred_pattern(self, o: mypy.patterns.StarredPattern) -> str: ...
    def visit_mapping_pattern(self, o: mypy.patterns.MappingPattern) -> str: ...
    def visit_class_pattern(self, o: mypy.patterns.ClassPattern) -> str: ...

def dump_tagged(nodes: Sequence[object], tag: str | None, str_conv: StrConv) -> str:
    """Convert an array into a pretty-printed multiline string representation.

    The format is
      tag(
        item1..
        itemN)
    Individual items are formatted like this:
     - arrays are flattened
     - pairs (str, array) are converted recursively, so that str is the tag
     - other items are converted to strings and indented
    """
def indent(s: str, n: int) -> str:
    """Indent all the lines in s (separated by newlines) by n spaces."""
