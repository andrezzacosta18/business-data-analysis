from mypy.nodes import AssignmentExpr as AssignmentExpr, BytesExpr, CallExpr as CallExpr, CastExpr, ComparisonExpr, ComplexExpr as ComplexExpr, ConditionalExpr as ConditionalExpr, DictExpr as DictExpr, DictionaryComprehension as DictionaryComprehension, EllipsisExpr as EllipsisExpr, Expression, FloatExpr as FloatExpr, GeneratorExpr as GeneratorExpr, IndexExpr, IntExpr, ListComprehension as ListComprehension, ListExpr, MemberExpr, NameExpr, OpExpr, RefExpr, SetComprehension as SetComprehension, SetExpr, SliceExpr, StrExpr, SuperExpr, TupleExpr, UnaryExpr as UnaryExpr
from mypy.types import ProperType as ProperType
from mypyc.common import MAX_SHORT_INT as MAX_SHORT_INT
from mypyc.ir.class_ir import ClassIR as ClassIR
from mypyc.ir.func_ir import FUNC_CLASSMETHOD as FUNC_CLASSMETHOD, FUNC_STATICMETHOD as FUNC_STATICMETHOD
from mypyc.ir.ops import Assign as Assign, BasicBlock as BasicBlock, ComparisonOp as ComparisonOp, Integer as Integer, LoadAddress as LoadAddress, LoadLiteral as LoadLiteral, RaiseStandardError as RaiseStandardError, Register as Register, TupleGet as TupleGet, TupleSet as TupleSet, Value as Value
from mypyc.ir.rtypes import RTuple as RTuple, bool_rprimitive as bool_rprimitive, int_rprimitive as int_rprimitive, is_fixed_width_rtype as is_fixed_width_rtype, is_int_rprimitive as is_int_rprimitive, is_list_rprimitive as is_list_rprimitive, is_none_rprimitive as is_none_rprimitive, object_rprimitive as object_rprimitive, set_rprimitive as set_rprimitive
from mypyc.irbuild.ast_helpers import is_borrow_friendly_expr as is_borrow_friendly_expr, process_conditional as process_conditional
from mypyc.irbuild.builder import IRBuilder as IRBuilder, int_borrow_friendly_op as int_borrow_friendly_op
from mypyc.irbuild.constant_fold import constant_fold_expr as constant_fold_expr
from mypyc.irbuild.for_helpers import comprehension_helper as comprehension_helper, translate_list_comprehension as translate_list_comprehension, translate_set_comprehension as translate_set_comprehension
from mypyc.irbuild.format_str_tokenizer import convert_format_expr_to_bytes as convert_format_expr_to_bytes, convert_format_expr_to_str as convert_format_expr_to_str, join_formatted_bytes as join_formatted_bytes, join_formatted_strings as join_formatted_strings, tokenizer_printf_style as tokenizer_printf_style
from mypyc.irbuild.specialize import apply_function_specialization as apply_function_specialization, apply_method_specialization as apply_method_specialization
from mypyc.primitives.bytes_ops import bytes_slice_op as bytes_slice_op
from mypyc.primitives.dict_ops import dict_get_item_op as dict_get_item_op, dict_new_op as dict_new_op, dict_set_item_op as dict_set_item_op
from mypyc.primitives.generic_ops import iter_op as iter_op
from mypyc.primitives.int_ops import int_comparison_op_mapping as int_comparison_op_mapping
from mypyc.primitives.list_ops import list_append_op as list_append_op, list_extend_op as list_extend_op, list_slice_op as list_slice_op
from mypyc.primitives.misc_ops import ellipsis_op as ellipsis_op, get_module_dict_op as get_module_dict_op, new_slice_op as new_slice_op, type_op as type_op
from mypyc.primitives.registry import CFunctionDescription as CFunctionDescription, builtin_names as builtin_names
from mypyc.primitives.set_ops import set_add_op as set_add_op, set_in_op as set_in_op, set_update_op as set_update_op
from mypyc.primitives.str_ops import str_slice_op as str_slice_op
from mypyc.primitives.tuple_ops import list_tuple_op as list_tuple_op, tuple_slice_op as tuple_slice_op
from typing import Sequence

def transform_name_expr(builder: IRBuilder, expr: NameExpr) -> Value: ...
def transform_member_expr(builder: IRBuilder, expr: MemberExpr) -> Value: ...
def check_instance_attribute_access_through_class(builder: IRBuilder, expr: MemberExpr, typ: ProperType | None) -> None:
    """Report error if accessing an instance attribute through class object."""
def transform_super_expr(builder: IRBuilder, o: SuperExpr) -> Value: ...
def transform_call_expr(builder: IRBuilder, expr: CallExpr) -> Value: ...
def translate_call(builder: IRBuilder, expr: CallExpr, callee: Expression) -> Value: ...
def translate_refexpr_call(builder: IRBuilder, expr: CallExpr, callee: RefExpr) -> Value:
    """Translate a non-method call."""
def translate_method_call(builder: IRBuilder, expr: CallExpr, callee: MemberExpr) -> Value:
    """Generate IR for an arbitrary call of form e.m(...).

    This can also deal with calls to module-level functions.
    """
def call_classmethod(builder: IRBuilder, ir: ClassIR, expr: CallExpr, callee: MemberExpr) -> Value: ...
def translate_super_method_call(builder: IRBuilder, expr: CallExpr, callee: SuperExpr) -> Value: ...
def translate_cast_expr(builder: IRBuilder, expr: CastExpr) -> Value: ...
def transform_unary_expr(builder: IRBuilder, expr: UnaryExpr) -> Value: ...
def transform_op_expr(builder: IRBuilder, expr: OpExpr) -> Value: ...
def try_optimize_int_floor_divide(expr: OpExpr) -> OpExpr:
    """Replace // with a power of two with a right shift, if possible."""
def transform_index_expr(builder: IRBuilder, expr: IndexExpr) -> Value: ...
def try_constant_fold(builder: IRBuilder, expr: Expression) -> Value | None:
    """Return the constant value of an expression if possible.

    Return None otherwise.
    """
def try_gen_slice_op(builder: IRBuilder, base: Value, index: SliceExpr) -> Value | None:
    """Generate specialized slice op for some index expressions.

    Return None if a specialized op isn't available.

    This supports obj[x:y], obj[:x], and obj[x:] for a few types.
    """
def transform_conditional_expr(builder: IRBuilder, expr: ConditionalExpr) -> Value: ...
def set_literal_values(builder: IRBuilder, items: Sequence[Expression]) -> list[object] | None: ...
def precompute_set_literal(builder: IRBuilder, s: SetExpr) -> Value | None:
    """Try to pre-compute a frozenset literal during module initialization.

    Return None if it's not possible.

    Supported items:
     - Anything supported by irbuild.constant_fold.constant_fold_expr()
     - None, True, and False
     - Tuple literals with only items listed above
    """
def transform_comparison_expr(builder: IRBuilder, e: ComparisonExpr) -> Value: ...
def translate_is_none(builder: IRBuilder, expr: Expression, negated: bool) -> Value: ...
def transform_basic_comparison(builder: IRBuilder, op: str, left: Value, right: Value, line: int) -> Value: ...
def translate_printf_style_formatting(builder: IRBuilder, format_expr: StrExpr | BytesExpr, rhs: Expression) -> Value | None: ...
def transform_int_expr(builder: IRBuilder, expr: IntExpr) -> Value: ...
def transform_float_expr(builder: IRBuilder, expr: FloatExpr) -> Value: ...
def transform_complex_expr(builder: IRBuilder, expr: ComplexExpr) -> Value: ...
def transform_str_expr(builder: IRBuilder, expr: StrExpr) -> Value: ...
def transform_bytes_expr(builder: IRBuilder, expr: BytesExpr) -> Value: ...
def transform_ellipsis(builder: IRBuilder, o: EllipsisExpr) -> Value: ...
def transform_list_expr(builder: IRBuilder, expr: ListExpr) -> Value: ...
def transform_tuple_expr(builder: IRBuilder, expr: TupleExpr) -> Value: ...
def transform_dict_expr(builder: IRBuilder, expr: DictExpr) -> Value:
    """First accepts all keys and values, then makes a dict out of them."""
def transform_set_expr(builder: IRBuilder, expr: SetExpr) -> Value: ...
def transform_list_comprehension(builder: IRBuilder, o: ListComprehension) -> Value: ...
def transform_set_comprehension(builder: IRBuilder, o: SetComprehension) -> Value: ...
def transform_dictionary_comprehension(builder: IRBuilder, o: DictionaryComprehension) -> Value: ...
def transform_slice_expr(builder: IRBuilder, expr: SliceExpr) -> Value: ...
def transform_generator_expr(builder: IRBuilder, o: GeneratorExpr) -> Value: ...
def transform_assignment_expr(builder: IRBuilder, o: AssignmentExpr) -> Value: ...
def transform_math_literal(builder: IRBuilder, fullname: str) -> Value | None: ...
