import threading
from ..interface.interface_relay import InterfaceRelay as InterfaceRelay
from typing import Any, Callable, Dict, List
from wandb.sdk.internal.settings_static import SettingsStatic as SettingsStatic
from wandb.sdk.lib.mailbox import Mailbox as Mailbox, MailboxProbe as MailboxProbe, MailboxProgress as MailboxProgress, MailboxProgressAll as MailboxProgressAll
from wandb.sdk.lib.printer import get_printer as get_printer
from wandb.sdk.wandb_run import Run as Run

class StreamThread(threading.Thread):
    """Class to running internal process as a thread."""
    name: str
    daemon: bool
    def __init__(self, target: Callable, kwargs: Dict[str, Any]) -> None: ...
    def run(self) -> None: ...

class StreamRecord:
    def __init__(self, settings: SettingsStatic, mailbox: Mailbox) -> None: ...
    def start_thread(self, thread: StreamThread) -> None: ...
    def join(self) -> None: ...
    def drop(self) -> None: ...
    @property
    def interface(self) -> InterfaceRelay: ...
    def mark_started(self) -> None: ...
    def update(self, settings: SettingsStatic) -> None: ...

class StreamAction:
    def __init__(self, action: str, stream_id: str, data: Any | None = None) -> None: ...
    def wait_handled(self) -> None: ...
    def set_handled(self) -> None: ...
    @property
    def stream_id(self) -> str: ...

class StreamMux:
    def __init__(self) -> None: ...
    def set_port(self, port: int) -> None: ...
    def set_pid(self, pid: int) -> None: ...
    def add_stream(self, stream_id: str, settings: SettingsStatic) -> None: ...
    def start_stream(self, stream_id: str) -> None: ...
    def update_stream(self, stream_id: str, settings: SettingsStatic) -> None: ...
    def del_stream(self, stream_id: str) -> None: ...
    def drop_stream(self, stream_id: str) -> None: ...
    def teardown(self, exit_code: int) -> None: ...
    def stream_names(self) -> List[str]: ...
    def has_stream(self, stream_id: str) -> bool: ...
    def get_stream(self, stream_id: str) -> StreamRecord: ...
    def loop(self) -> None: ...
    def cleanup(self) -> None: ...
