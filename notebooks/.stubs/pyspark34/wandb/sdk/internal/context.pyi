import threading
from _typeshed import Incomplete
from wandb.proto.wandb_internal_pb2 import Record as Record, Result as Result

logger: Incomplete

class Context:
    def __init__(self) -> None: ...
    def cancel(self) -> None: ...
    @property
    def cancel_event(self) -> threading.Event: ...

def context_id_from_record(record: Record) -> str: ...
def context_id_from_result(result: Result) -> str: ...

class ContextKeeper:
    def __init__(self) -> None: ...
    def add_from_record(self, record: Record) -> Context | None: ...
    def add(self, context_id: str) -> Context: ...
    def get(self, context_id: str) -> Context | None: ...
    def release(self, context_id: str) -> None: ...
    def cancel(self, context_id: str) -> bool: ...
