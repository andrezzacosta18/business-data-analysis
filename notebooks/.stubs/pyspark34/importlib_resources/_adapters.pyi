from . import abc as abc
from _typeshed import Incomplete

class SpecLoaderAdapter:
    """
    Adapt a package spec to adapt the underlying loader.
    """
    spec: Incomplete
    loader: Incomplete
    def __init__(self, spec, adapter=...) -> None: ...
    def __getattr__(self, name): ...

class TraversableResourcesLoader:
    """
    Adapt a loader to provide TraversableResources.
    """
    spec: Incomplete
    def __init__(self, spec) -> None: ...
    def get_resource_reader(self, name): ...

class CompatibilityFiles:
    """
    Adapter for an existing or non-existent resource reader
    to provide a compatibility .files().
    """
    class SpecPath(abc.Traversable):
        """
        Path tied to a module spec.
        Can be read and exposes the resource reader children.
        """
        def __init__(self, spec, reader) -> None: ...
        def iterdir(self): ...
        def is_file(self): ...
        is_dir = is_file
        def joinpath(self, other): ...
        @property
        def name(self): ...
        def open(self, mode: str = 'r', *args, **kwargs): ...
    class ChildPath(abc.Traversable):
        """
        Path tied to a resource reader child.
        Can be read but doesn't expose any meaningful children.
        """
        def __init__(self, reader, name) -> None: ...
        def iterdir(self): ...
        def is_file(self): ...
        def is_dir(self): ...
        def joinpath(self, other): ...
        @property
        def name(self): ...
        def open(self, mode: str = 'r', *args, **kwargs): ...
    class OrphanPath(abc.Traversable):
        """
        Orphan path, not tied to a module spec or resource reader.
        Can't be read and doesn't expose any meaningful children.
        """
        def __init__(self, *path_parts) -> None: ...
        def iterdir(self): ...
        def is_file(self): ...
        is_dir = is_file
        def joinpath(self, other): ...
        @property
        def name(self): ...
        def open(self, mode: str = 'r', *args, **kwargs) -> None: ...
    spec: Incomplete
    def __init__(self, spec) -> None: ...
    def __getattr__(self, attr): ...
    def files(self): ...

def wrap_spec(package):
    """
    Construct a package spec with traversable compatibility
    on the spec/loader/reader.
    """
