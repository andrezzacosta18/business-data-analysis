from .._constants import EnvironmentVariables as EnvironmentVariables
from .._internal.managed_identity_base import ManagedIdentityBase as ManagedIdentityBase
from .._internal.managed_identity_client import ManagedIdentityClient as ManagedIdentityClient
from azure.core.pipeline import PipelineRequest as PipelineRequest, PipelineResponse as PipelineResponse
from azure.core.pipeline.policies import HTTPPolicy
from typing import Any

class AzureArcCredential(ManagedIdentityBase):
    def get_client(self, **kwargs: Any) -> ManagedIdentityClient | None: ...
    def __enter__(self) -> AzureArcCredential: ...
    def __exit__(self, *args: Any) -> None: ...
    def close(self) -> None: ...
    def get_unavailable_message(self) -> str: ...

class ArcChallengeAuthPolicy(HTTPPolicy):
    """Policy for handling Azure Arc's challenge authentication"""
    def send(self, request: PipelineRequest) -> PipelineResponse: ...
