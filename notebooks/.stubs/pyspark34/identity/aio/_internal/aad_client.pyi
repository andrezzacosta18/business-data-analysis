from ..._internal import AadClientBase as AadClientBase, AadClientCertificate as AadClientCertificate
from ..._internal.pipeline import build_async_pipeline as build_async_pipeline
from azure.core.credentials import AccessToken as AccessToken
from azure.core.pipeline import AsyncPipeline as AsyncPipeline
from azure.core.pipeline.policies import AsyncHTTPPolicy, SansIOHTTPPolicy
from azure.core.pipeline.transport import HttpRequest as HttpRequest
from typing import Iterable

Policy = AsyncHTTPPolicy | SansIOHTTPPolicy

class AadClient(AadClientBase):
    async def __aenter__(self): ...
    async def __aexit__(self, *args) -> None: ...
    async def close(self) -> None:
        """Close the client's transport session."""
    async def obtain_token_by_authorization_code(self, scopes: Iterable[str], code: str, redirect_uri: str, client_secret: str | None = None, **kwargs) -> AccessToken: ...
    async def obtain_token_by_client_certificate(self, scopes: Iterable[str], certificate: AadClientCertificate, **kwargs) -> AccessToken: ...
    async def obtain_token_by_client_secret(self, scopes: Iterable[str], secret: str, **kwargs) -> AccessToken: ...
    async def obtain_token_by_jwt_assertion(self, scopes: Iterable[str], assertion: str, **kwargs) -> AccessToken: ...
    async def obtain_token_by_refresh_token(self, scopes: Iterable[str], refresh_token: str, **kwargs) -> AccessToken: ...
    async def obtain_token_by_refresh_token_on_behalf_of(self, scopes: Iterable[str], client_credential: str | AadClientCertificate, refresh_token: str, **kwargs) -> AccessToken: ...
    async def obtain_token_on_behalf_of(self, scopes: Iterable[str], client_credential: str | AadClientCertificate, user_assertion: str, **kwargs) -> AccessToken: ...
