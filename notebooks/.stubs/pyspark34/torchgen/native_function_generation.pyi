from _typeshed import Incomplete
from torchgen.api.translate import translate as translate
from torchgen.api.types import Binding as Binding, DispatcherSignature as DispatcherSignature, Expr as Expr
from torchgen.context import with_native_function as with_native_function
from torchgen.model import Annotation as Annotation, Argument as Argument, BackendIndex as BackendIndex, BackendMetadata as BackendMetadata, BaseOperatorName as BaseOperatorName, BaseTy as BaseTy, BaseType as BaseType, DEFAULT_KERNEL_NAMESPACE as DEFAULT_KERNEL_NAMESPACE, DeviceCheckType as DeviceCheckType, DispatchKey as DispatchKey, FunctionSchema as FunctionSchema, NativeFunction as NativeFunction, NativeFunctionsGroup as NativeFunctionsGroup, OperatorName as OperatorName, Return as Return, SchemaKind as SchemaKind, Variant as Variant
from torchgen.utils import concatMap as concatMap
from typing import Dict, List, Sequence, Tuple

OUT_OPS_THAT_DONT_GET_GROUPED_PROPERLY: Incomplete
MUTABLE_OPS_THAT_CANNOT_GET_AN_OUT_VARIANT: Incomplete
FUNCTIONAL_OPS_THAT_CANNOT_GET_AN_OUT_VARIANT: Incomplete
INPLACE_OPS_THAT_DONT_GET_GROUPED_PROPERLY: Incomplete

def pre_group_native_functions(native_functions: Sequence[NativeFunction]) -> Dict[FunctionSchema, Dict[SchemaKind, NativeFunction]]: ...
def get_expected_out_variant_overload_name(overload_name: str | None) -> str: ...
def self_to_out_signature(func: FunctionSchema) -> FunctionSchema: ...
def functional_to_out_signature(func: FunctionSchema) -> FunctionSchema: ...
def generate_out_args_from_schema(func: FunctionSchema) -> Tuple[List[Return], List[Argument]]: ...
def mutable_to_out_signature(func: FunctionSchema) -> FunctionSchema: ...
def generate_function(f: NativeFunction, k: SchemaKind) -> Tuple[NativeFunction, Dict[DispatchKey, Dict['OperatorName', 'BackendMetadata']]]: ...
def add_generated_native_functions(rs: List[NativeFunction], indices: Dict[DispatchKey, Dict[OperatorName, BackendMetadata]]) -> None: ...
def return_str(rets: Tuple[Return, ...], names: List[str]) -> str: ...
def gather_nonaliased_inner_rets(func: FunctionSchema, out_var: str) -> List[str]: ...
def gen_composite_functional_kernel(g: NativeFunctionsGroup) -> str | None: ...
def gen_composite_out_kernel(g: NativeFunctionsGroup) -> str | None: ...
